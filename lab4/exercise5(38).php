<?php
// Исходная строка с разным количеством букв 'b' между 'a'
$str = 'aa aba abba abbba abbbba abbbbba';

// Регулярное выражение для поиска строк, где:
// - Начинается с 'a'
// - Затем идет буква 'b' 5 или более раз
// - Заканчивается на 'a'
$pattern = '/ab{5,}a/';

// Находим все совпадения
if (preg_match_all($pattern, $str, $matches)) {
    echo "Найдены строки с 5 или более буквами 'b':\n";
    foreach ($matches[0] as $match) {
        // Подсчитываем количество букв 'b' в каждом совпадении
        $count_b = substr_count($match, 'b');
        echo "- $match (содержит $count_b букв 'b')\n";
    }
    
    echo "\nВсего найдено слов: " . count($matches[0]);
} else {
    echo "Совпадений не найдено";
}
?>
<!-- Дана строка 'aa aba abba abbba abbbba abbbbba'. Напишите регулярку, которая найдет строки вида aba, в которых 'b' встречается более 4-х раз (включительно). -->